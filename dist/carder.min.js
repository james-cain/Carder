!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.carder=t():e.carder=t()}(window,function(){return function(n){var r={};function a(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}return a.m=n,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();!function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.file=e}r(t,[{key:"createStream",value:function(){var r=this,e=new FileReader,t=this.file.name.substring(this.file.name.lastIndexOf(".")+1).toLowerCase();"png"===t||"jpg"===t||"jpeg"===t?(e.onload=function(e){var t=e.target?e.target.result:"",n=new Image;n.onload=function(){var e=n.width,t=n.height;r.fitch(e,t,n)},n.src=t},e.readAsDataURL(this.file)):alert("图片的格式必须是png或jpg或jpeg格式！")}},{key:"fitch",value:function(o,i,e){var u="",c=document.createElement("canvas");c.width=o,c.height=i;var l=c.getContext("2d");l.drawImage(e,0,0);var f=[Array.prototype.slice.call(l.getImageData(0,0,1,1).data).join(","),Array.prototype.slice.call(l.getImageData(o-1,0,1,1).data).join(","),Array.prototype.slice.call(l.getImageData(0,i-1,1,1).data).join(","),Array.prototype.slice.call(l.getImageData(o-1,i-1,1,1).data).join(",")],p=[];f.sort(),this.unique(f).length<=1?function(){p=f[0].split(",");for(var n=!0,e=l.getImageData(0,0,o,i),t=e.data,r=0;r<t.length;r+=4){[t[r],t[r+1],t[r+2]].every(function(e,t){return 0===p[3]?n=!1:e===parseInt(p[t])})&&(t[r+3]=0)}if(l.putImageData(e,0,0),u=c.toDataURL("image/png"),n){var a=document.createElement("a");a.href=u,a.download="test.png",a.click()}}():alert("只支持纯色背景抠图")}},{key:"unique",value:function(e){var n=[],r={};return e.forEach(function(e,t){r[e]||(n.push(e),r[e]=!0)}),n}}])}()}])});